<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PersonaWorks Stage</title>

  <!-- Shared + overrides -->
  <link rel="stylesheet" href="../common/theme.css">
  <link rel="stylesheet" href="../common/pw.base.css">
  <link rel="stylesheet" href="stage.overrides.css">

  <script type="module" src="../common/pw.theme.js" defer></script>
  <script type="module" src="stage.js" defer></script>
</head>
<body>

  <div class="topbar">
    <div class="brand">PersonaWorks Stage</div>
    <div class="spacer"></div>
    <button id="themeSwitch" class="theme-switch" role="switch" aria-checked="false" title="Toggle theme">
      <svg class="icon moon" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
        <path d="M21 12.8A9.2 9.2 0 1 1 11.2 3a7.2 7.2 0 0 0 9.8 9.8"/>
      </svg>
      <svg class="icon sun" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
        <circle cx="12" cy="12" r="4"/>
        <g stroke-width="2" stroke-linecap="round" fill="none">
          <line x1="12" y1="1.5" x2="12" y2="5.5"/>
          <line x1="12" y1="18.5" x2="12" y2="22.5"/>
          <line x1="1.5" y1="12" x2="5.5" y2="12"/>
          <line x1="18.5" y1="12" x2="22.5" y2="12"/>
          <line x1="4.2" y1="4.2" x2="6.9" y2="6.9"/>
          <line x1="17.1" y1="17.1" x2="19.8" y2="19.8"/>
          <line x1="4.2" y1="19.8" x2="6.9" y2="17.1"/>
          <line x1="17.1" y1="6.9" x2="19.8" y2="4.2"/>
        </g>
      </svg>
    </button>
    <button class="btn small dev" id="btn-console">Console</button>
  </div>

  <div id="page" class="page">

    
    <aside class="left">
      <div class="side-head">
        <strong>Characters</strong>
        <div class="spacer"></div>
        <button class="btn small" id="new-char">New</button>
      </div>
      <div class="side-body">
        <div class="list">
          <div class="char card">
            <div class="avatar">A</div>
            <div>
              <div class="name">Aria Finch</div>
              <div class="meta">Mage • last used 2h ago</div>
            </div>
          </div>
          <div class="char card">
            <div class="avatar">K</div>
            <div>
              <div class="name">Kaelen Dusk</div>
              <div class="meta">Rogue • last used yesterday</div>
            </div>
          </div>
        </div>
      </div>
    </aside>

    <main class="main">
      <div class="chat-head">
        <div class="avatar">A</div>
        <div class="hgroup">
          <div class="title">Aria Finch</div>
          <div class="sub">Mage • Neutral • Tags: magic, scholar</div>
        </div>
        <div class="controls">
          <button class="btn small" id="btn-reset">Reset</button>
          <button class="btn small acc" id="btn-generate">Generate</button>
        </div>
      </div>

      <div class="tabbar">
        <div class="tab active">Conversation</div>
        <div class="tab">Context</div>
        <div class="tab">System</div>
      </div>

      <section class="transcript">
        <div class="bubble user">Tell me about the ley lines beneath the city.</div>
        <div class="bubble assistant">They braid under the old aqueducts—count three junctions near the archives. Avoid the northern spur; it's volatile after dusk.</div>
      </section>

      <div class="composer">
        <textarea placeholder="Type a message..."></textarea>
        <div>
          <button class="btn">Send</button>
        </div>
      </div>
    </main>

    <aside class="right">
      <div class="side-head"><strong>Details</strong></div>
      <div class="side-body">
        <div class="card">
          <div class="section">
            <div class="label">Species</div>
            <div class="value">Human</div>
          </div>
          <div class="section">
            <div class="label">Voice</div>
            <div class="value">Measured • Formality 40</div>
          </div>
        </div>
        <div class="card">
          <div class="section">
            <div class="label">Notes</div>
            <pre class="pre">Carries a cracked focus crystal; avoids speaking Celestine in public.</pre>
          </div>
        </div>
      </div>
    </aside>

    <footer class="footer">
      <div>Ready.</div>
      <div class="spacer"></div>
      <div class="tokenbar" aria-label="Token usage"><div style="width: 32%;"></div></div>
    </footer>
  </div>


  <!-- Credit bar (very bottom) -->
  <div id="pw-creditbar" class="pw-creditbar" role="contentinfo">
      <span>PersonaWorks v1.0 by Chaosground Creative Studio 2025</span>
  </div>

  <!-- Theme + console wiring -->
  <script type="module">
    // Basic console stub
    document.getElementById('btn-console')?.addEventListener('click', () => {
      console.log('[Stage] Console toggled — wire up your panel here.');
      alert('Dev console: not wired yet.');
    });
  </script>

</body>
</html>
