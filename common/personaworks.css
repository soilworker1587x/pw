@layer base {
  /* sizing + layout */
  *, *::before, *::after { box-sizing: border-box; }
  html:focus-within { scroll-behavior: smooth; }
  body, h1, h2, h3, h4, p, figure, blockquote, dl, dd { margin: 0; }
  body { min-height: 100vh; line-height: 1.5; }

  /* media scales nicely */
  img, picture, video, canvas, svg { display: block; max-width: 100%; }

  /* form controls inherit typography/colors */
  input, button, textarea, select { font: inherit; color: inherit; }
  button, [role="button"] { cursor: pointer; }

  /* sensible lists/links, low specificity via :where() */
  :where(ul, ol) { padding-left: 1.2rem; }
  :where(a) { color: inherit; text-decoration: none; }

  /* keep accessibility visible */
  :where(:focus-visible) { outline: 2px solid Highlight; outline-offset: 2px; }

  /* advertise supported themes to UAs */
  :root { color-scheme: dark, light; }
}

:root{ color-scheme: light dark; }

/* ===== Theme Switch (sun right, moon left; thumb covers inactive) ===== */
.theme-switch{
  position:relative; inline-size:68px; block-size:36px; border-radius:999px;
  border:1px solid var(--switch-border,#b9b9b9);
  background: var(--switch-track,#e9e9e9);
  padding:0; cursor:pointer; display:inline-block;
}
.theme-switch .icon{
  position:absolute; inset-block-start:50%; transform:translateY(-50%);
  pointer-events:none; color:inherit;
}
.theme-switch .sun { inset-inline-end:10px; }
.theme-switch .moon{ inset-inline-start:10px; }
.theme-switch .sun circle{ fill:currentColor; }
.theme-switch .sun g{ stroke:currentColor; }
.theme-switch .moon{ fill:none; stroke:currentColor; stroke-width:2; }
.theme-switch[aria-checked="true"]::after{ inset-inline-start: calc(100% - 33px); }
.theme-switch::after{
  content:""; position:absolute; inset-block-start:3px; inset-inline-start:3px;
  inline-size:30px; block-size:30px; border-radius:50%;
  background: var(--switch-thumb,#fff);
  box-shadow:0 1px 2px rgba(0,0,0,.25);
  transition: inset-inline-start .2s ease; z-index:2;
}

/* Subtle emphasis by theme */
:root[data-theme="light"] .theme-switch .sun  { opacity:1;   }
:root[data-theme="light"] .theme-switch .moon { opacity:.35; filter:grayscale(1); }
:root[data-theme="dark"]  .theme-switch .sun  { opacity:.35; filter:grayscale(1); }
:root[data-theme="dark"]  .theme-switch .moon { opacity:1;   }

/* Dark theme track/thumb */
:root[data-theme="dark"] .theme-switch{
  --switch-track:#2a2a2a; --switch-border:#3a3a3a; --switch-thumb:#0f0f0f;
}

:root{
  --pw-saved-open-h: 260px;
  --pw-saved-collapsed-h: 52px;
  --pc-panel: var(--panel);
  --pc-text: var(--text);
  --pc-border: var(--line);
  --pc-shadow: var(--shadow);
  --pw-credit-h: var(--footer-bar-h);
}

.theme-switch .sun { color:#222; }

html { height: 100%; }

body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font: 14px/1.35 ui-sans-serif, system-ui, Segoe UI, Roboto, Arial;
  transition: background .2s, color .2s;
}

/* Shared header (topbar) */
.header {
  display: flex; 
  align-items: center; 
  gap: 10px;
  min-height: var(--header-bar-h);
  padding-inline: 20px 10px;
  background: var(--header-bg);
  border-bottom: 1px solid var(--line);
}

/* Shared footer credit bar */
.footer {
  position:fixed; 
  left:0; 
  right:0; 
  bottom:0; 
  z-index:1000;
  height: var(--footer-bar-h);
  display:flex; 
  align-items:center; 
  justify-content:center;
  background: var(--panel); 
  color: var(--muted);
  border-top:1px solid var(--line); 
  font-size:12px;
}

.brand { 
    font-size: 18px;
    font-weight: 700; 
    letter-spacing: .3px; 
    transform-origin: left center; 
    line-height: 1; 
}

.spacer { 
    flex: 1; 
}

/* Buttons */
.btn {
  padding: 8px 12px; 
  border:1px solid var(--line); 
  border-radius:8px;
  background: var(--surface2); 
  color: var(--fg);
  cursor:pointer; 
  transition: background .15s, border-color .15s, transform .02s;
}

.btn:hover { 
    background: var(--btn-hover); 
    border-color: var(--line); 
}

.btn:active { transform: translateY(1px); }
.btn:disabled { opacity:.5; cursor:not-allowed; }

.page {
  display: grid;
  padding: 0px;
  align-items: start;
  margin: 0 auto;
}

.list { display: flex; flex-direction: column; gap: 8px; }

input, button, textarea, select { 
    font: inherit; 
    color: inherit; 
}

button, [role="button"] { 
    cursor: pointer; 
}

/* Forms */
input[type="text"], input[type="search"], input[type="number"], select, textarea {
  width: 100%;
  background: var(--surface2);
  color: var(--fg);
  border: 1px solid var(--line);
  border-radius: 10px;
  padding: 8px 10px;
  outline: none;
}